# Existential Types —É Scala 3

## üîç –©–æ —Ü–µ —Ç–∞–∫–µ?

**Existential Types** ‚Äî —Ü–µ —Ç–∏–ø–∏, —è–∫—ñ –º—ñ—Å—Ç—è—Ç—å **–ø—Ä–∏—Ö–æ–≤–∞–Ω—ñ –ø–∞—Ä–∞–º–µ—Ç—Ä–∏ —Ç–∏–ø—É**. –í–æ–Ω–∏ –¥–æ–∑–≤–æ–ª—è—é—Ç—å –∞–±—Å—Ç—Ä–∞–≥—É–≤–∞—Ç–∏—Å—è –≤—ñ–¥ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Ç–∏–ø—É —ñ –ø—Ä–∞—Ü—é–≤–∞—Ç–∏ –∑ ¬´—è–∫–∏–º–æ—Å—å¬ª —Ç–∏–ø–æ–º –±–µ–∑ –∑–Ω–∞–Ω–Ω—è –π–æ–≥–æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –∑–Ω–∞—á–µ–Ω–Ω—è.

–£ Scala 3 –∑–∞–º—ñ—Å—Ç—å —Å–∫–ª–∞–¥–Ω–æ–≥–æ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å—É –∑ `forSome` –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è –ø—Ä–æ—Å—Ç—ñ—à–∏–π –∑–∞–ø–∏—Å:

```scala
Container[?] // –æ–∑–Ω–∞—á–∞—î "Container –∑ –¥–µ—è–∫–∏–º —Ç–∏–ø–æ–º T"
```

---

## üß© –ü—Ä–∏–∫–ª–∞–¥

```scala
trait Container[T]:
  def get: T

def printUnknown(container: Container[?]): String =
  val value = container.get
  s"Got value: $value"

class StringContainer extends Container[String]:
  def get: String = "Scala"

class IntContainer extends Container[Int]:
  def get: Int = 42
```

---

## ‚úÖ –Ø–∫ —Ü–µ –ø—Ä–∞—Ü—é—î?

- `Container[?]` ‚Äî —Ü–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –∑ **–Ω–µ–≤—ñ–¥–æ–º–∏–º —Ç–∏–ø–æ–º**, —è–∫–∏–π –Ω–∞–º –Ω–µ–≤–∞–∂–ª–∏–≤–æ –∑–Ω–∞—Ç–∏.
- –ú–µ—Ç–æ–¥ `printUnknown` –ø—Ä–∏–π–º–∞—î –±—É–¥—å-—è–∫–∏–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä, –∞–ª–µ **–Ω–µ –Ω–∞–º–∞–≥–∞—î—Ç—å—Å—è –æ–ø–µ—Ä—É–≤–∞—Ç–∏ –∑ —Ç–∏–ø–æ–º**, –ª–∏—à–µ –≤–∏–∫–ª–∏–∫–∞—î `get` —ñ –¥—Ä—É–∫—É—î –∑–Ω–∞—á–µ–Ω–Ω—è.

---

## üß™ –Æ–Ω—ñ—Ç-—Ç–µ—Å—Ç

```scala
"printUnknown" should "print value from StringContainer" in {
  val sc = new StringContainer
  printUnknown(sc) should include ("Scala")
}

it should "print value from IntContainer" in {
  val ic = new IntContainer
  printUnknown(ic) should include ("42")
}
```

---

## ü§î –î–ª—è —á–æ–≥–æ —Ü–µ?

- –Ø–∫—â–æ —Ç–∏ **–Ω–µ —Ö–æ—á–µ—à –∞–±–æ –Ω–µ –º–æ–∂–µ—à** –∑–Ω–∞—Ç–∏ —Ç–æ—á–Ω–∏–π —Ç–∏–ø —É generics, –∞–ª–µ –≤—Å–µ –æ–¥–Ω–æ —Ö–æ—á–µ—à –∑ –Ω–∏–º –ø—Ä–∞—Ü—é–≤–∞—Ç–∏.
- –î–ª—è –Ω–∞–ø–∏—Å–∞–Ω–Ω—è **—É–Ω—ñ–≤–µ—Ä—Å–∞–ª—å–Ω–∏—Ö API**.
- –ß–∞—Å—Ç–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è –≤ –±—ñ–±–ª—ñ–æ—Ç–µ–∫–∞—Ö, —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–∞—Ö, DI –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞—Ö —Ç–æ—â–æ.

---

## üí° –¢–∏–ø–æ–≤–∏–π –ø—Ä–∏–∫–ª–∞–¥ —ñ–∑ –∫–æ–ª–µ–∫—Ü—ñ—è–º–∏

```scala
val listOfUnknowns: List[?] = List(1, 2, 3)
```

---

## üß† –ü–∏—Ç–∞–Ω–Ω—è –¥–ª—è —Å–ø—ñ–≤–±–µ—Å—ñ–¥–∏

### 1. –©–æ —Ç–∞–∫–µ existential type —É Scala?
> –¢–∏–ø, —è–∫–∏–π –¥–æ–∑–≤–æ–ª—è—î –ø—Ä–∏—Ö–æ–≤–∞—Ç–∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–∏–π –ø–∞—Ä–∞–º–µ—Ç—Ä —Ç–∏–ø—É ‚Äî –Ω–∞–ø—Ä–∏–∫–ª–∞–¥, `List[?]`, `Map[String, ?]`.

### 2. –Ø–∫ –ø–æ–∑–Ω–∞—á–∞—é—Ç—å—Å—è existential types —É Scala 3?
> –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è –∑–Ω–∞–∫ –ø–∏—Ç–∞–Ω–Ω—è `?` –∑–∞–º—ñ—Å—Ç—å `forSome`, —è–∫ –±—É–ª–æ —É Scala 2.

### 3. –Ø–∫–∞ –∫–æ—Ä–∏—Å—Ç—å –≤—ñ–¥ existential types?
> –í–æ–Ω–∏ –¥–æ–∑–≤–æ–ª—è—é—Ç—å —É–∑–∞–≥–∞–ª—å–Ω—é–≤–∞—Ç–∏ –∫–æ–¥, –Ω–µ –∑–Ω–∞—é—á–∏ —Ç–æ—á–Ω–æ–≥–æ —Ç–∏–ø—É ‚Äî –ø—Ä–∞—Ü—é–≤–∞—Ç–∏ –∑ "—è–∫–∏–º–æ—Å—å —Ç–∏–ø–æ–º" —É –±–µ–∑–ø–µ—á–Ω–∏–π —Å–ø–æ—Å—ñ–±.

### 4. –ß–∏ –º–æ–∂–Ω–∞ –º–æ–¥–∏—Ñ—ñ–∫—É–≤–∞—Ç–∏ –∑–Ω–∞—á–µ–Ω–Ω—è, –∫–æ–ª–∏ —Ç–∏–ø –Ω–µ–≤—ñ–¥–æ–º–∏–π?
> –ù—ñ, –∞–¥–∂–µ —Ç–∏ –Ω–µ –∑–Ω–∞—î—à, —è–∫–∏–π —Ç–∏–ø —Ç–∞–º. –¢–∏ –º–æ–∂–µ—à –ª–∏—à–µ –≤–∏–∫–ª–∏–∫–∞—Ç–∏ –º–µ—Ç–æ–¥–∏, —è–∫—ñ –Ω–µ –∑–∞–ª–µ–∂–∞—Ç—å –≤—ñ–¥ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Ç–∏–ø—É.

---

## üìö –î–æ–¥–∞—Ç–∫–æ–≤—ñ —Ä–µ—Å—É—Ä—Å–∏

- [Dotty Documentation ‚Äì Existential Types](https://docs.scala-lang.org/scala3/reference/new-types/existential-types.html)
