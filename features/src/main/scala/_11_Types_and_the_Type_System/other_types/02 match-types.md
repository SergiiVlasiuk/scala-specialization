# Match Types —É Scala 3

## üîç –©–æ —Ü–µ —Ç–∞–∫–µ?

**Match Types** ‚Äî —Ü–µ —Ç–∏–ø-—Ñ—É–Ω–∫—Ü—ñ—ó, —â–æ –¥–æ–∑–≤–æ–ª—è—é—Ç—å –≤–∏–∑–Ω–∞—á–∞—Ç–∏ —Ç–∏–ø–∏ —à–ª—è—Ö–æ–º –ø–∞—Ç–µ—Ä–Ω-–º–∞—Ç—á—ñ–Ω–≥—É –Ω–∞–¥ –≤—Ö—ñ–¥–Ω–∏–º–∏ —Ç–∏–ø–∞–º–∏. –í–æ–Ω–∏ —Å—Ö–æ–∂—ñ –Ω–∞ `match` —É –∑–Ω–∞—á–µ–Ω–Ω—è—Ö, –∞–ª–µ –ø—Ä–∞—Ü—é—é—Ç—å **–Ω–∞ —Ä—ñ–≤–Ω—ñ —Ç–∏–ø—ñ–≤**.

---

## üß© –ü—Ä–∏–∫–ª–∞–¥

```scala
type Element[X] = X match
  case String => Char
  case Array[t] => t
  case Iterable[t] => t
  case _ => X
```

–¶–µ–π `match type` –æ–ø–∏—Å—É—î –ª–æ–≥—ñ–∫—É:
- –Ø–∫—â–æ `X` ‚Äî `String`, —Ç–æ `Element[X] = Char`
- –Ø–∫—â–æ `X` ‚Äî –º–∞—Å–∏–≤, —Ç–æ `Element[X] = t`, —Ç–æ–±—Ç–æ —Ç–∏–ø –µ–ª–µ–º–µ–Ω—Ç—É –º–∞—Å–∏–≤—É
- –Ø–∫—â–æ `X` ‚Äî –∫–æ–ª–µ–∫—Ü—ñ—è, —Ç–æ —Ç–∏–ø —ó—ó –µ–ª–µ–º–µ–Ω—Ç—É
- –Ü–Ω–∞–∫—à–µ –ø—Ä–æ—Å—Ç–æ `X`

---

## ‚úÖ –ü—Ä–∏–∫–ª–∞–¥ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è

```scala
val e1: Element[String] = 'a'          // Char
val e2: Element[Array[Int]] = 42       // Int
val e3: Element[List[Double]] = 3.14   // Double
val e4: Element[Boolean] = true        // Boolean
```

---

## üß™ –Æ–Ω—ñ—Ç-—Ç–µ—Å—Ç

```scala
"Element match type" should "resolve Char for String" in {
  val e: Element[String] = 'a'
  e shouldBe a [Char]
}
```

---

## üß† –î–ª—è —á–æ–≥–æ —Ü–µ?

Match types –¥–æ–∑–≤–æ–ª—è—é—Ç—å:
- –í–∏–≤–æ–¥–∏—Ç–∏ **—É–º–æ–≤–Ω—ñ —Ç–∏–ø–∏** –≤ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ –≤—ñ–¥ –≤—Ö—ñ–¥–Ω–æ–≥–æ —Ç–∏–ø—É
- –ü–∏—Å–∞—Ç–∏ **—É–Ω—ñ–≤–µ—Ä—Å–∞–ª—å–Ω—ñ API**, –¥–µ —Ç–∏–ø–∏ –∞–¥–∞–ø—Ç—É—é—Ç—å—Å—è –¥–æ –¥–∞–Ω–∏—Ö
- –ó–∞–º—ñ–Ω—é—é—Ç—å –¥–µ—è–∫—ñ —à–∞–±–ª–æ–Ω–∏ –∑ shapeless / —Ç–∏–ø–∞–º–∏-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞–º–∏

---

## ü§î –ü–∏—Ç–∞–Ω–Ω—è –¥–ª—è —Å–ø—ñ–≤–±–µ—Å—ñ–¥–∏

### 1. –©–æ —Ç–∞–∫–µ `Match Types`?
> –¶–µ —Ç–∏–ø-—Ñ—É–Ω–∫—Ü—ñ—ó –∑ pattern matching –Ω–∞ —Ä—ñ–≤–Ω—ñ —Ç–∏–ø—ñ–≤, —â–æ –¥–æ–∑–≤–æ–ª—è—é—Ç—å –≤–∏–∑–Ω–∞—á–∞—Ç–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç —Ç–∏–ø—É –≤ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ –≤—ñ–¥ –≤—Ö—ñ–¥–Ω–æ–≥–æ —Ç–∏–ø—É.

### 2. –£ —á–æ–º—É —Ä—ñ–∑–Ω–∏—Ü—è –º—ñ–∂ `Match Type` —ñ pattern matching —É —Ñ—É–Ω–∫—Ü—ñ—è—Ö?
> Pattern matching —É —Ñ—É–Ω–∫—Ü—ñ—è—Ö –ø—Ä–∞—Ü—é—î –∑ **–∑–Ω–∞—á–µ–Ω–Ω—è–º–∏**, –∞ `match types` ‚Äî –∑ **—Ç–∏–ø–∞–º–∏ –ø—ñ–¥ —á–∞—Å –∫–æ–º–ø—ñ–ª—è—Ü—ñ—ó**.

### 3. –Ø–∫ –º–æ–∂–Ω–∞ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞—Ç–∏ `Match Types` –≤ API?
> –ù–∞–ø—Ä–∏–∫–ª–∞–¥, –¥–ª—è –≤–∏–≤–µ–¥–µ–Ω–Ω—è —Ç–∏–ø—É –µ–ª–µ–º–µ–Ω—Ç—É –∑ –∫–æ–ª–µ–∫—Ü—ñ—ó –∞–±–æ –ø–æ–±—É–¥–æ–≤–∏ —É–º–æ–≤–Ω–æ–≥–æ —Ç–∏–ø—É —Ä–µ–∑—É–ª—å—Ç–∞—Ç—É –∑–∞–ª–µ–∂–Ω–æ –≤—ñ–¥ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞.

### 4. –ß–∏ –º–æ–∂–Ω–∞ –≤–∫–ª–∞–¥–∞—Ç–∏ `match types`?
> –¢–∞–∫, –≤–æ–Ω–∏ –º–æ–∂—É—Ç—å –±—É—Ç–∏ –≤–∫–ª–∞–¥–µ–Ω–∏–º–∏ —Ç–∞ —Ä–µ–∫—É—Ä—Å–∏–≤–Ω–∏–º–∏, –∞–ª–µ –∑ –æ–±–º–µ–∂–µ–Ω–Ω—è–º–∏ –Ω–∞ —Ç–µ—Ä–º—ñ–Ω—É–≤–∞–Ω–Ω—è.

---

## üìÇ –ü–æ–≤‚Äô—è–∑–∞–Ω—ñ —Ñ–∞–π–ª–∏

- `MatchTypes.scala` ‚Äî —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—è
- `MatchTypesTest.scala` ‚Äî —é–Ω—ñ—Ç-—Ç–µ—Å—Ç

---

## üìö –î–æ–¥–∞—Ç–∫–æ–≤–æ

- [Dotty docs ‚Äì Match Types](https://docs.scala-lang.org/scala3/reference/new-types/match-types.html)