# Intersection Types –≤ Scala 3

## –©–æ —Ç–∞–∫–µ Intersection Type?

**Intersection Type** (`A & B`) —Å–∫–ª–∞–¥–∞—î —Ç–∏–ø, —â–æ –æ–±'—î–¥–Ω—É—î –≤–∏–º–æ–≥–∏ –¥–æ –æ–±'—î–∫—Ç–∞ –∑ –æ–±–æ—Ö —Ç–∏–ø—ñ–≤ `A` —ñ `B`. –¶–µ –æ–∑–Ω–∞—á–∞—î, —â–æ –∑–º—ñ–Ω–Ω–∞ —Ç–∏–ø—É `A & B` –ø–æ–≤–∏–Ω–Ω–∞ –º–∞—Ç–∏ –≤—Å—ñ —á–ª–µ–Ω–∏ —Ç–∏–ø—ñ–≤ `A` —Ç–∞ `B`.

---

## –ü—Ä–∏–∫–ª–∞–¥ 1: –ü–æ—î–¥–Ω–∞–Ω–Ω—è –¥–≤–æ—Ö —Ç—Ä–µ–π—Ç—ñ–≤

```scala
trait HasName:
  def name: String

trait HasAge:
  def age: Int

def printPersonInfo(person: HasName & HasAge): String =
  s"${person.name} is ${person.age} years old"

class User(val name: String, val age: Int) extends HasName, HasAge

val user = new User("Olena", 30)
assert(printPersonInfo(user) == "Olena is 30 years old")
```

---

## –ü—Ä–∏–∫–ª–∞–¥ 2: Intersection —É –ø–∞—Ä–∞–º–µ—Ç—Ä–∞—Ö

```scala
def doSomething(entity: Cloneable & Serializable): Unit =
  println("Can be cloned and serialized")

val data = "Hello".asInstanceOf[Cloneable & Serializable]
doSomething(data) // OK
```

---

## –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è Intersection Types

```scala
test("intersection types allow combining traits"):
  class Entity(val name: String, val age: Int) extends HasName, HasAge
  val e = new Entity("Max", 42)
  assert(printPersonInfo(e) == "Max is 42 years old")
```

---

## –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è alias –¥–ª—è Intersection Type

–£ Scala –º–æ–∂–Ω–∞ –Ω–∞–¥–∞—Ç–∏ —ñ–º'—è intersection —Ç–∏–ø—É –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é `type`:

```scala
type Person = HasName & HasAge

def printInfo(p: Person): String =
  s"${p.name} is ${p.age} years old"
```

### üìå –ö–æ–ª–∏ –≤–∞—Ä—Ç–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ alias –¥–ª—è Intersection Type

#### ‚úÖ –†–µ–∫–æ–º–µ–Ω–¥—É—î—Ç—å—Å—è:

- –ö–æ–ª–∏ intersection type –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è –∫—ñ–ª—å–∫–∞ —Ä–∞–∑—ñ–≤.
- –ö–æ–ª–∏ –ø–æ—Ç—Ä—ñ–±–Ω–∞ –∫—Ä–∞—â–∞ —á–∏—Ç–∞–±–µ–ª—å–Ω—ñ—Å—Ç—å –∫–æ–¥—É.
- –ö–æ–ª–∏ —Ç–∏–ø —î –ª–æ–≥—ñ—á–Ω–∏–º –¥–æ–º–µ–Ω–Ω–∏–º –ø–æ–Ω—è—Ç—Ç—è–º (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, `Person`, `HttpRequest`, —Ç–æ—â–æ).

#### üîª –ú–µ–Ω—à –¥–æ—Ü—ñ–ª—å–Ω–æ:

- –Ø–∫—â–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –æ–¥–Ω–æ—Ä–∞–∑–æ–≤–µ.
- –Ø–∫—â–æ alias –ø—Ä–∏—Ö–æ–≤—É—î –≤–∞–∂–ª–∏–≤—ñ –¥–µ—Ç–∞–ª—ñ —Ç–∏–ø—É.

### –ü–µ—Ä–µ–≤–∞–≥–∏

| –ü–µ—Ä–µ–≤–∞–≥–∏                       | –ö–æ–ª–∏ –Ω–µ –≤–∞—Ä—Ç–æ                       |
| ------------------------------ | ----------------------------------- |
| ‚úÖ –ó—Ä—É—á–Ω–µ –ø–æ–≤—Ç–æ—Ä–Ω–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è | ‚ùå –õ–∏—à–µ –æ–¥–Ω–æ—Ä–∞–∑–æ–≤–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è      |
| ‚úÖ –ö—Ä–∞—â–µ —á–∏—Ç–∞–±–µ–ª—å–Ω—ñ—Å—Ç—å          | ‚ùå Alias –ø—Ä–∏—Ö–æ–≤—É—î –≤–∞–∂–ª–∏–≤—É —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—é |
| ‚úÖ –í—ñ–¥–æ–±—Ä–∞–∂–∞—î –¥–æ–º–µ–Ω–Ω—É –º–æ–¥–µ–ª—å    | ‚ùå –ù–∞–¥–º—ñ—Ä–Ω–∞ –∞–±—Å—Ç—Ä–∞–∫—Ü—ñ—è               |

---

## –ü–æ—Ç–µ–Ω—Ü—ñ–π–Ω—ñ –ø–∏—Ç–∞–Ω–Ω—è –¥–ª—è —Å–ø—ñ–≤–±–µ—Å—ñ–¥–∏

**Q1: –©–æ —Ç–∞–∫–µ Intersection Type?**\
A1: –¶–µ —Ç–∏–ø, —è–∫–∏–π –≤–∏–º–∞–≥–∞—î, —â–æ–± –æ–±'—î–∫—Ç –º–∞–≤ –≤–ª–∞—Å—Ç–∏–≤–æ—Å—Ç—ñ (–º–µ—Ç–æ–¥–∏, –ø–æ–ª—è) –∑ –æ–±–æ—Ö —Ç–∏–ø—ñ–≤, —è–∫—ñ –ø–æ—î–¥–Ω—É—é—Ç—å—Å—è –æ–ø–µ—Ä–∞—Ç–æ—Ä–æ–º `&`.

**Q2: –î–ª—è —á–æ–≥–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—Ç—å—Å—è Intersection Types?**\
A2: –©–æ–± –æ–±'—î–¥–Ω–∞—Ç–∏ –≤–∏–º–æ–≥–∏ –∫—ñ–ª—å–∫–æ—Ö —Ç–∏–ø—ñ–≤ –¥–æ –æ–¥–Ω–æ–≥–æ –æ–±'—î–∫—Ç–∞ –±–µ–∑ –ø–æ—Ç—Ä–µ–±–∏ —Å—Ç–≤–æ—Ä—é–≤–∞—Ç–∏ –Ω–æ–≤–∏–π —Ç–∏–ø.

**Q3: –£ —á–æ–º—É —Ä—ñ–∑–Ω–∏—Ü—è –º—ñ–∂ Union —Ç–∞ Intersection —Ç–∏–ø–∞–º–∏?**\
A3: Union (`A | B`) –æ–∑–Ω–∞—á–∞—î "–∞–±–æ A, –∞–±–æ B"; Intersection (`A & B`) –æ–∑–Ω–∞—á–∞—î "–æ–¥–Ω–æ—á–∞—Å–Ω–æ A —ñ B".

**Q4: –ß–∏ –º–æ–∂–Ω–∞ –ø–µ—Ä–µ–¥–∞—Ç–∏ –æ–±'—î–∫—Ç —Ç–∏–ø—É A & B —Ç—É–¥–∏, –¥–µ –æ—á—ñ–∫—É—î—Ç—å—Å—è –ø—Ä–æ—Å—Ç–æ A?**\
A4: –¢–∞–∫. –û—Å–∫—ñ–ª—å–∫–∏ `A & B` –º–∞—î –≤—Å—ñ —á–ª–µ–Ω–∏ A, —Ü–µ –¥–æ–∑–≤–æ–ª–µ–Ω–æ.

---

## –ö–æ—Ä–æ—Ç–∫–∏–π –≤–∏—Å–Ω–æ–≤–æ–∫

Intersection Types —É Scala 3 –¥–æ–∑–≤–æ–ª—è—é—Ç—å:

- –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ –æ–±'—î–∫—Ç–∏, —â–æ —Ä–µ–∞–ª—ñ–∑—É—é—Ç—å –∫—ñ–ª—å–∫–∞ —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ñ–≤ –±–µ–∑ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –Ω–æ–≤–∏—Ö —Ç–∏–ø—ñ–≤.
- –°–ø—Ä–æ—â—É–≤–∞—Ç–∏ —Å–∏–≥–Ω–∞—Ç—É—Ä–∏ —Ñ—É–Ω–∫—Ü—ñ–π —ñ–∑ –±–∞–≥–∞—Ç—å–º–∞ –≤–∏–º–æ–≥–∞–º–∏ –¥–æ —Ç–∏–ø—É.
- –ü–æ–∫—Ä–∞—â—É–≤–∞—Ç–∏ —Ç–∏–ø–æ–±–µ–∑–ø–µ–∫—É –ø—Ä–∏ —Ä–æ–±–æ—Ç—ñ –∑ mix-in'–∞–º–∏ —Ç–∞ DSL-–∞–º–∏.

> –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ Intersection Types, –∫–æ–ª–∏ –ø–æ—Ç—Ä—ñ–±–Ω–æ **–≥–∞—Ä–∞–Ω—Ç—É–≤–∞—Ç–∏ –Ω–∞—è–≤–Ω—ñ—Å—Ç—å —á–ª–µ–Ω—ñ–≤ –∫—ñ–ª—å–∫–æ—Ö —Ç–∏–ø—ñ–≤** –≤ –æ–¥–Ω–æ–º—É –æ–±'—î–∫—Ç—ñ.

