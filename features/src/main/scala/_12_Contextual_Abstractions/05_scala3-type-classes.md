# Type Classes —É Scala 3

## –ü—Ä–æ–±–ª–µ–º–∞

Type Classes –¥–æ–∑–≤–æ–ª—è—é—Ç—å –¥–æ–¥–∞–≤–∞—Ç–∏ –ø–æ–≤–µ–¥—ñ–Ω–∫—É –¥–æ —Ç–∏–ø—ñ–≤ –±–µ–∑ –º–æ–¥–∏—Ñ—ñ–∫–∞—Ü—ñ—ó —ó—Ö–Ω—å–æ–≥–æ –∫–æ–¥—É (–Ω–∞ –≤—ñ–¥–º—ñ–Ω—É –≤—ñ–¥ —Å–ø–∞–¥–∫—É–≤–∞–Ω–Ω—è). –¶–µ –æ—Å–æ–±–ª–∏–≤–æ –≤–∞–∂–ª–∏–≤–æ, –∫–æ–ª–∏:
- –í–∏ –Ω–µ –º–∞—î—Ç–µ –¥–æ—Å—Ç—É–ø—É –¥–æ –≤–∏—Ö—ñ–¥–Ω–æ–≥–æ –∫–æ–¥—É —Ç–∏–ø—É (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, —Ç–∏–ø —ñ–∑ –±—ñ–±–ª—ñ–æ—Ç–µ–∫–∏)
- –í–∞–º –ø–æ—Ç—Ä—ñ–±–Ω–æ –∞–±—Å—Ç—Ä–∞–≥—É–≤–∞—Ç–∏ –ø–æ–≤–µ–¥—ñ–Ω–∫—É, –∞ –Ω–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—É
- –•–æ—á–µ—Ç–µ —É–Ω–∏–∫–Ω—É—Ç–∏ –∂–æ—Ä—Å—Ç–∫–æ–≥–æ OOP-—É—Å–ø–∞–¥–∫—É–≤–∞–Ω–Ω—è —ñ –±–∞–≥–∞—Ç–æ—Ä–∞–∑–æ–≤–æ–≥–æ –¥—É–±–ª—é–≤–∞–Ω–Ω—è

**Type Class** ‚Äî —Ü–µ –ø–∞—Ç–µ—Ä–Ω, –∞ –Ω–µ —Å–ø–µ—Ü—ñ–∞–ª—å–Ω–∏–π —Å–∏–Ω—Ç–∞–∫—Å–∏—Å –º–æ–≤–∏, —è–∫–∏–π –¥–æ–∑–≤–æ–ª—è—î:
- –û–≥–æ–ª–æ—Å–∏—Ç–∏ –∞–±—Å—Ç—Ä–∞–∫—Ü—ñ—é
- –†–µ–∞–ª—ñ–∑—É–≤–∞—Ç–∏ —ó—ó –¥–ª—è —Ç–∏–ø—ñ–≤
- –ù–µ—è–≤–Ω–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ —ó—ó —á–µ—Ä–µ–∑ `given` —ñ `using`

---

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç                  | –û–ø–∏—Å                                                                 |
| -------------------------- | -------------------------------------------------------------------- |
| 1. Type Class (–∞–±—Å—Ç—Ä–∞–∫—Ü—ñ—è) | –¢—Ä–µ–π—Ç –∞–±–æ —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∑ –º–µ—Ç–æ–¥–æ–º/–º–µ—Ç–æ–¥–∞–º–∏, —è–∫—ñ –º–∏ —Ö–æ—á–µ–º–æ —Ä–µ–∞–ª—ñ–∑—É–≤–∞—Ç–∏    |
| 2. –Ü–Ω—Å—Ç–∞–Ω—Å Type Class      | `given`-–µ–∫–∑–µ–º–ø–ª—è—Ä –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Ç–∏–ø—É (Int, String, MyClass —Ç–æ—â–æ)   |
| 3. –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è            | –§—É–Ω–∫—Ü—ñ—ó, —è–∫—ñ –æ—Ç—Ä–∏–º—É—é—Ç—å `using`-–ø–∞—Ä–∞–º–µ—Ç—Ä, –∞–±–æ `summon`, –∞–±–æ extension |

---

## –ü—Ä–∏–∫–ª–∞–¥–∏

### üì¶ –õ–æ–≥—ñ–∫–∞: –≤–∏–∑–Ω–∞—á–µ–Ω–Ω—è Type Class —Ç–∞ –π–æ–≥–æ –µ–∫–∑–µ–º–ø–ª—è—Ä—ñ–≤

~~~scala
package typeclassdemo

trait Show[T]:
  def show(value: T): String

object Show:
  def apply[T](using s: Show[T]): Show[T] = s

given Show[Int] with
  def show(value: Int): String = s"Int($value)"

given Show[String] with
  def show(value: String): String = s"$value"

def printValue[T](value: T)(using s: Show[T]): String =
  s.show(value)
~~~

---
## üîé –©–æ —î —á–∏–º:

| –ù–∞–∑–≤–∞                 | –†–æ–ª—å —É –ø–∞—Ç–µ—Ä–Ω—ñ Type Class                 | –ü—Ä–∏–º—ñ—Ç–∫–∞                       |
| --------------------- | ----------------------------------------- | ------------------------------ |
| `trait Show[T]`       | **Type Class**                            | –∞–±—Å—Ç—Ä–∞–∫—Ü—ñ—è                     |
| `given Show[Int]`     | **–Ü–Ω—Å—Ç–∞–Ω—Å Type Class**                    | —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—è `Show` –¥–ª—è `Int`    |
| `given Show[String]`  | **–Ü–Ω—Å—Ç–∞–Ω—Å Type Class**                    | —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—è `Show` –¥–ª—è `String` |
| `def printValue[...]` | **–í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è Type Class**               | —á–µ—Ä–µ–∑ `using s: Show[T]`       |
| `Show.apply[T]`       | –ó—Ä—É—á–Ω–∏–π —Å–ø–æ—Å—ñ–± –¥—ñ—Å—Ç–∞—Ç–∏ —ñ–Ω—Å—Ç–∞–Ω—Å (`summon`) |                                |

---

### ‚úÖ –¢–µ—Å—Ç–∏: –ø–µ—Ä–µ–≤—ñ—Ä–∫–∞ Type Class —ñ–Ω—Å—Ç–∞–Ω—Å—ñ–≤

~~~scala
package typeclassdemo

import org.scalatest.flatspec.AnyFlatSpec
import org.scalatest.matchers.should.Matchers

class ShowTest extends AnyFlatSpec with Matchers {

  import Show.given

  "printValue" should "show Int correctly" in {
    printValue(42) shouldEqual "Int(42)"
  }

  it should "show String correctly" in {
    printValue("hello") shouldEqual "hello"
  }
}
~~~

---

## ‚ùì–¢–µ–ø–µ—Ä –≥–æ–ª–æ–≤–Ω–µ: —Ö—Ç–æ "–∫–ª–∞—Å, –ª–æ–≥—ñ–∫—É —è–∫–æ–≥–æ –º–∏ —Ä–æ–∑—à–∏—Ä—é—î–º–æ"?
>–¶–µ –Ω–µ —Ç–∏–ø `Int` –∞–±–æ `String`, —è–∫—ñ –º–∏ "—Ä–æ–∑—à–∏—Ä—é—î–º–æ".

–ú–∏ **–¥–æ–¥–∞—î–º–æ –¥–æ –Ω–∏—Ö –ø–æ–≤–µ–¥—ñ–Ω–∫—É**, –Ω–µ –∑–º—ñ–Ω—é—é—á–∏ —Å–∞–º —Ç–∏–ø. –ü–æ–≤–µ–¥—ñ–Ω–∫—É –æ–ø–∏—Å—É—î `trait Show[T]`, –∞ `given Show[Int]` —Ä–µ–∞–ª—ñ–∑—É—î —ó—ó –¥–ª—è `Int`.

–£ —Ü—å–æ–º—É —Å–µ–Ω—Å—ñ:
- `Show` ‚Äî —Ü–µ "—ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å"
- `Int` ‚Äî —Ü–µ —Ç–∏–ø, —è–∫–æ–º—É –∑–∑–æ–≤–Ω—ñ –¥–æ–¥–∞–Ω–æ –Ω–æ–≤—É –ø–æ–≤–µ–¥—ñ–Ω–∫—É (–ø–æ–∫–∞–∑—É–≤–∞—Ç–∏ —Å–µ–±–µ —É –≤–∏–≥–ª—è–¥—ñ `Int(42)`)
- `given Show[Int]` ‚Äî —Ü–µ —Ä–æ–∑—à–∏—Ä–µ–Ω–Ω—è –ª–æ–≥—ñ–∫–∏ –¥–ª—è —Ç–∏–ø—É `Int`

---

## –ü–∏—Ç–∞–Ω–Ω—è —Ç–∞ –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ –¥–ª—è —Å–ø—ñ–≤–±–µ—Å—ñ–¥–∏

### ‚ùì –©–æ —Ç–∞–∫–µ Type Class —É Scala?

**–í—ñ–¥–ø–æ–≤—ñ–¥—å:**  
Type Class ‚Äî —Ü–µ –ø–∞—Ç–µ—Ä–Ω, —â–æ –¥–æ–∑–≤–æ–ª—è—î –æ–ø–∏—Å–∞—Ç–∏ –ø–æ–≤–µ–¥—ñ–Ω–∫—É (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, `Show`, `Eq`, `Ord`), —è–∫–∞ —Ä–µ–∞–ª—ñ–∑—É—î—Ç—å—Å—è –æ–∫—Ä–µ–º–æ –¥–ª—è –∫–æ–∂–Ω–æ–≥–æ —Ç–∏–ø—É —á–µ—Ä–µ–∑ `given`.

---

### ‚ùì –Ø–∫—ñ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∏ –º–∞—î Type Class?

**–í—ñ–¥–ø–æ–≤—ñ–¥—å:**  
1. –¢—Ä–µ–π—Ç –∞–±–æ –∞–±—Å—Ç—Ä–∞–∫—Ç–Ω–∏–π –∫–ª–∞—Å (—ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å –ø–æ–≤–µ–¥—ñ–Ω–∫–∏)
2. `given`-—ñ–Ω—Å—Ç–∞–Ω—Å–∏ –¥–ª—è —Ç–∏–ø—ñ–≤
3. –§—É–Ω–∫—Ü—ñ—ó, —è–∫—ñ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—Ç—å `using` –ø–∞—Ä–∞–º–µ—Ç—Ä–∏ –∞–±–æ `summon` –¥–ª—è –¥–æ—Å—Ç—É–ø—É

---

### ‚ùì –Ø–∫ –≤–∏–∫–ª–∏–∫–∞—Ç–∏ —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—é Type Class?

**–í—ñ–¥–ø–æ–≤—ñ–¥—å:**  
- –ß–µ—Ä–µ–∑ `using` –ø–∞—Ä–∞–º–µ—Ç—Ä —É —Ñ—É–Ω–∫—Ü—ñ—ó  
- –ß–µ—Ä–µ–∑ `summon[Show[T]]`  
- –ß–µ—Ä–µ–∑ extension methods (—Å–∏–Ω—Ç–∞–∫—Å–∏—á–Ω–∏–π —Ü—É–∫–æ—Ä)

---

### ‚ùì –£ —á–æ–º—É —Ä—ñ–∑–Ω–∏—Ü—è –º—ñ–∂ Type Class —Ç–∞ –∑–≤–∏—á–∞–π–Ω–∏–º —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º?

**–í—ñ–¥–ø–æ–≤—ñ–¥—å:**  
- Type Class –Ω–µ –≤–∏–º–∞–≥–∞—î –∑–º—ñ–Ω–∏ —Ç–∏–ø—É, –¥–ª—è —è–∫–æ–≥–æ —Ä–µ–∞–ª—ñ–∑—É—î—Ç—å—Å—è –ø–æ–≤–µ–¥—ñ–Ω–∫–∞
- –î–µ–∫–ª–∞—Ä–∞—Ç–∏–≤–Ω–æ –¥–æ–¥–∞—î –ø–æ–≤–µ–¥—ñ–Ω–∫—É "–∑–∑–æ–≤–Ω—ñ"
- –ú–æ–∂–Ω–∞ —Ä–µ–∞–ª—ñ–∑–æ–≤—É–≤–∞—Ç–∏ Type Class-–∏ –¥–ª—è —Ç–∏–ø—ñ–≤ —ñ–∑ –±—ñ–±–ª—ñ–æ—Ç–µ–∫

---

### ‚ùì –ß–∏ –ø—ñ–¥—Ç—Ä–∏–º—É—î Scala ad-hoc polymorphism?

**–í—ñ–¥–ø–æ–≤—ñ–¥—å:**  
–¢–∞–∫, —á–µ—Ä–µ–∑ Type Classes.

---

## –ü–µ—Ä–µ–≤–∞–≥–∏

- –ü—ñ–¥–≤–∏—â–µ–Ω–∞ –≥–Ω—É—á–∫—ñ—Å—Ç—å
- –í—ñ–¥–¥—ñ–ª–µ–Ω–Ω—è –ø–æ–≤–µ–¥—ñ–Ω–∫–∏ –≤—ñ–¥ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏
- –ö—Ä–∞—â–µ –ø—ñ–¥—Ö–æ–¥–∏—Ç—å –¥–ª—è FP-–ø—ñ–¥—Ö–æ–¥—ñ–≤, –Ω—ñ–∂ –∫–ª–∞—Å–∏—á–Ω–∞ —ñ—î—Ä–∞—Ä—Ö—ñ—è

---

## –í–∏—Å–Ω–æ–≤–æ–∫

Type Classes ‚Äî –æ–¥–∏–Ω —ñ–∑ —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç–∞–ª—å–Ω–∏—Ö —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ñ–≤ Scala 3, —â–æ –¥–æ–∑–≤–æ–ª—è—î –¥–æ—Å—è–≥—Ç–∏ –º–æ–¥—É–ª—å–Ω–æ—Å—Ç—ñ, –ø–æ–ª—ñ–º–æ—Ä—Ñ—ñ–∑–º—É —Ç–∞ –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è —Ç–∏–ø–æ–±–µ–∑–ø–µ–∫–∏ –±–µ–∑ –∂–æ—Ä—Å—Ç–∫–æ—ó –æ–± º—î–∫—Ç–Ω–æ-–æ—Ä—ñ—î–Ω—Ç–æ–≤–∞–Ω–æ—ó —ñ—î—Ä–∞—Ä—Ö—ñ—ó.