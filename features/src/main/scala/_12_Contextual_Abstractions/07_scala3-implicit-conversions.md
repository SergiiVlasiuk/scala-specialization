# Implicit Conversions —É Scala 3

## –ü—Ä–æ–±–ª–µ–º–∞

–£ –¥–µ—è–∫–∏—Ö —Å–∏—Ç—É–∞—Ü—ñ—è—Ö –ø–æ—Ç—Ä—ñ–±–Ω–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –ø–µ—Ä–µ—Ç–≤–æ—Ä—é–≤–∞—Ç–∏ –æ–±'—î–∫—Ç–∏ –æ–¥–Ω–æ–≥–æ —Ç–∏–ø—É –≤ —ñ–Ω—à–∏–π:
- –ù–∞–ø—Ä–∏–∫–ª–∞–¥, —â–æ–± –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ –º–µ—Ç–æ–¥–∏, —è–∫–∏—Ö –Ω–µ–º–∞—î —É —Ç–∏–ø—ñ `A`, –∞–ª–µ —î —É `B`.
- –ê–±–æ —â–æ–± —Ñ—É–Ω–∫—Ü—ñ—è `def f(b: B): Unit` –ø—Ä–∏–π–º–∞–ª–∞ `A`, —è–∫—â–æ —ñ—Å–Ω—É—î –ø—Ä–∞–≤–∏–ª–æ `A => B`.

–£ Scala 2 —Ü–µ –±—É–ª–æ –º–æ–∂–ª–∏–≤–æ –∑–∞–≤–¥—è–∫–∏ `implicit def`, –∞–ª–µ —Ç–∞–∫–∏–π –ø—ñ–¥—Ö—ñ–¥ –±—É–≤ **–Ω–µ–±–µ–∑–ø–µ—á–Ω–∏–π —ñ –Ω–µ—è–≤–Ω–∏–π**.

**Scala 3 —Ä–æ–∑–≤'—è–∑—É—î —Ü–µ —á–µ—Ä–µ–∑ –∫–æ–Ω—Ç—Ä–æ–ª—å–æ–≤–∞–Ω—ñ `given Conversion[A, B]`, —è–∫—ñ —á—ñ—Ç–∫–æ –≤–∏—Ä–∞–∂–∞—é—Ç—å –Ω–∞–º—ñ—Ä –ø–µ—Ä–µ—Ç–≤–æ—Ä–µ–Ω–Ω—è.**

---

## –ü—Ä–∏–∫–ª–∞–¥–∏

### ‚úÖ –õ–æ–≥—ñ–∫–∞: –Ø–≤–Ω–æ –∑–∞–¥–∞–Ω–µ –Ω–µ—è–≤–Ω–µ –ø–µ—Ä–µ—Ç–≤–æ—Ä–µ–Ω–Ω—è —Ç–∏–ø—ñ–≤

~~~scala
package conversionsdemo

import scala.language.implicitConversions

case class Rational(n: Int, d: Int):
  override def toString: String = s"$n/$d"

object Conversions:
  given Conversion[Int, Rational] with
    def apply(x: Int): Rational = Rational(x, 1)

def describe(r: Rational): String =
  s"This is a rational number: $r"
~~~

---

## –¢–µ—Å—Ç–∏

~~~scala
package conversionsdemo

import org.scalatest.flatspec.AnyFlatSpec
import org.scalatest.matchers.should.Matchers
import conversionsdemo.Conversions.given

class RationalConversionTest extends AnyFlatSpec with Matchers {

  "describe" should "accept Int via implicit conversion" in {
    val result = describe(3) // implicitly converted to Rational(3,1)
    result shouldEqual "This is a rational number: 3/1"
  }

  it should "also accept Rational directly" in {
    val result = describe(Rational(5, 2))
    result shouldEqual "This is a rational number: 5/2"
  }
}
~~~

---

## –ö–æ–Ω—Ç—Ä–ø—Ä–∏–∫–ª–∞–¥ (–¥–ª—è —Ä–æ–∑—É–º—ñ–Ω–Ω—è –ø–æ–≤–µ–¥—ñ–Ω–∫–∏)

–Ø–∫—â–æ –Ω–µ —ñ–º–ø–æ—Ä—Ç—É–≤–∞—Ç–∏ `given`, –∫–æ–º–ø—ñ–ª—è—Ü—ñ—è –Ω–µ –ø—Ä–æ–π–¥–µ:

~~~scala
// –ë–µ–∑ —ñ–º–ø–æ—Ä—Ç—É given Conversion[Int, Rational] ‚Äî –∫–æ–º–ø—ñ–ª—è—Ü—ñ—è –∑ –ø–æ–º–∏–ª–∫–æ—é
val r: Rational = 5 // ERROR: no Conversion in scope
~~~

---

## –ü–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è Scala 2 vs Scala 3

| –û—Å–æ–±–ª–∏–≤—ñ—Å—Ç—å                     | Scala 2                        | Scala 3                              |
|--------------------------------|--------------------------------|---------------------------------------|
| –ú–µ—Ö–∞–Ω—ñ–∑–º                        | `implicit def`                 | `given Conversion[A, B]`              |
| –ö–æ–Ω—Ç—Ä–æ–ª—å –Ω–∞–¥ –Ω–µ—è–≤–Ω—ñ—Å—Ç—é         | –°–ª–∞–±–∫–∏–π                        | –°–∏–ª—å–Ω–∏–π, —è–≤–Ω–æ —á–µ—Ä–µ–∑ `import given`    |
| –ú–æ–∂–ª–∏–≤—ñ—Å—Ç—å –∞–Ω–∞–ª—ñ–∑—É –∫–æ–¥—É        | –û–±–º–µ–∂–µ–Ω–∞                       | –î–æ–±—Ä–∞ ‚Äî –≤—Å–µ –≤–∏–¥–Ω–æ –≤ —ñ–º–ø–æ—Ä—Ç—ñ           |
| –ü–æ—Ç—Ä—ñ–±–µ–Ω —ñ–º–ø–æ—Ä—Ç                 | –ù—ñ (—á–∞—Å—Ç–æ –≥–ª–æ–±–∞–ª—å–Ω–æ –≤–∏–¥–Ω–æ)     | –¢–∞–∫: `import ... given`               |
| –†–∏–∑–∏–∫ –Ω–µ–æ—á—ñ–∫—É–≤–∞–Ω–∏—Ö –µ—Ñ–µ–∫—Ç—ñ–≤     | –í–∏—Å–æ–∫–∏–π                        | –ó–Ω–∞—á–Ω–æ –º–µ–Ω—à–∏–π                         |

---

## –ü–∏—Ç–∞–Ω–Ω—è —Ç–∞ –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ –¥–ª—è —Å–ø—ñ–≤–±–µ—Å—ñ–¥–∏

### ‚ùì –©–æ —Ç–∞–∫–µ implicit conversion?

**–í—ñ–¥–ø–æ–≤—ñ–¥—å:**  
–ú–µ—Ö–∞–Ω—ñ–∑–º, —è–∫–∏–π –¥–æ–∑–≤–æ–ª—è—î –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –ø–µ—Ä–µ—Ç–≤–æ—Ä–∏—Ç–∏ –∑–Ω–∞—á–µ–Ω–Ω—è –æ–¥–Ω–æ–≥–æ —Ç–∏–ø—É –≤ —ñ–Ω—à–∏–π, –∫–æ–ª–∏ —Ü—å–æ–≥–æ –≤–∏–º–∞–≥–∞—î –∫–æ–Ω—Ç–µ–∫—Å—Ç.

---

### ‚ùì –Ø–∫ –æ–≥–æ–ª–æ—Å–∏—Ç–∏ implicit conversion —É Scala 3?

**–í—ñ–¥–ø–æ–≤—ñ–¥—å:**  
–ó–∞ –¥–æ–ø–æ–º–æ–≥–æ—é `given Conversion[A, B]` –∑ —ñ–º–ø–æ—Ä—Ç–æ–º `scala.language.implicitConversions`.

---

### ‚ùì –ß–æ–º—É Scala 3 –∑—Ä–æ–±–∏–ª–∞ —Ü—ñ –ø–µ—Ä–µ—Ç–≤–æ—Ä–µ–Ω–Ω—è –±—ñ–ª—å—à –∫–æ–Ω—Ç—Ä–æ–ª—å–æ–≤–∞–Ω–∏–º–∏?

**–í—ñ–¥–ø–æ–≤—ñ–¥—å:**  
–©–æ–± —É–Ω–∏–∫–Ω—É—Ç–∏ –º–∞–≥—ñ—ó –≤ –∫–æ–¥—ñ, —è–∫–∞ —É—Å–∫–ª–∞–¥–Ω—é—î —á–∏—Ç–∞–Ω–Ω—è, –¥–µ–±–∞–≥ —ñ –ø–µ—Ä–µ–¥–±–∞—á—É–≤–∞–Ω—ñ—Å—Ç—å. Scala 3 –≤–∏–º–∞–≥–∞—î —è–≤–Ω–æ–≥–æ —ñ–º–ø–æ—Ä—Ç—É `given`.

---

### ‚ùì –£ —á–æ–º—É —Ä—ñ–∑–Ω–∏—Ü—è –º—ñ–∂ implicit conversion —Ç–∞ extension methods?

**–í—ñ–¥–ø–æ–≤—ñ–¥—å:**  
- `given Conversion[A, B]`: –ø–µ—Ä–µ—Ç–≤–æ—Ä—é—î –æ–±'—î–∫—Ç –æ–¥–Ω–æ–≥–æ —Ç–∏–ø—É –Ω–∞ —ñ–Ω—à–∏–π.
- `extension`: –¥–æ–¥–∞—î –º–µ—Ç–æ–¥–∏ –¥–æ —ñ—Å–Ω—É—é—á–æ–≥–æ —Ç–∏–ø—É –±–µ–∑ —Ñ–∞–∫—Ç–∏—á–Ω–æ–≥–æ –ø–µ—Ä–µ—Ç–≤–æ—Ä–µ–Ω–Ω—è.

---

## –í–∏—Å–Ω–æ–≤–æ–∫

`implicit conversion` —É Scala 3 ‚Äî —Ü–µ –∫–µ—Ä–æ–≤–∞–Ω–∏–π, —è–≤–Ω–∏–π –º–µ—Ö–∞–Ω—ñ–∑–º, —è–∫–∏–π —Ä–æ–∑–≤'—è–∑—É—î –∑–∞–¥–∞—á—É –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ–≥–æ –ø—Ä–∏–≤–µ–¥–µ–Ω–Ω—è —Ç–∏–ø—ñ–≤, –∑–±–µ—Ä—ñ–≥–∞—é—á–∏ –ø—Ä–∏ —Ü—å–æ–º—É —á–∏—Ç–∞–±–µ–ª—å–Ω—ñ—Å—Ç—å —ñ –∫–æ–Ω—Ç—Ä–æ–ª—å –Ω–∞–¥ –∫–æ–¥–æ–º.

---

## üí° –ö–æ–º–µ–Ω—Ç–∞—Ä —â–æ–¥–æ –ø–æ—á–∞—Ç–∫–æ–≤–æ–≥–æ –ø—Ä–∏–∫–ª–∞–¥—É

–£ –Ω–∞–≤–µ–¥–µ–Ω–æ–º—É —Ç–æ–±–æ—é –∫–æ–¥—ñ:
- `given Conversion[Int, Rational]` –±—É–ª–æ –≤ **–∫–æ–º–ø–∞–Ω—å–π–æ–Ω-–æ–± º—î–∫—Ç—ñ `Rational`**
- Scala **–∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –ø—ñ–¥—Ç—è–≥—É—î given —ñ–∑ –∫–æ–º–ø–∞–Ω—å–π–æ–Ω–∞** –¥–ª—è `Rational`, –∫–æ–ª–∏ `Rational` –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è —É —Å–∏–≥–Ω–∞—Ç—É—Ä–∞—Ö –∞–±–æ –≤–∏–∫–ª–∏–∫–∞—Ö.

–¶–µ *–ª–µ–≥–∞–ª—å–Ω–∞ –ø–æ–≤–µ–¥—ñ–Ω–∫–∞*, –∞–ª–µ –≤–æ–Ω–∞ **–ø—ñ–¥—Ä–∏–≤–∞—î —Ü—ñ–ª—å –≤–∏–≤—á–µ–Ω–Ω—è explicit `import given`**, —Ç–æ–º—É –∫—Ä–∞—â–µ –¥–µ–º–æ–Ω—Å—Ç—Ä—É–≤–∞—Ç–∏ –ø—Ä–∏–∫–ª–∞–¥–∏ –∑ –≤—ñ–¥–æ–∫—Ä–µ–º–ª–µ–Ω–∏–º –æ–±‚Äô—î–∫—Ç–æ–º `Conversions`.