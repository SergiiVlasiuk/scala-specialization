# üìò Scala 3 ‚Äî Immutable Values

---

## üîç –©–æ —Ç–∞–∫–µ Immutable Values?

**Immutable value** (–Ω–µ–∑–º—ñ–Ω–Ω–∞ –∑–º—ñ–Ω–Ω–∞) ‚Äî —Ü–µ –∑–Ω–∞—á–µ–Ω–Ω—è, —è–∫–µ **–Ω–µ –º–æ–∂–µ –±—É—Ç–∏ –∑–º—ñ–Ω–µ–Ω–µ –ø—ñ—Å–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è**. –£ Scala –≤—Å—ñ `val` –∑–º—ñ–Ω–Ω—ñ –∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º —î –Ω–µ–∑–º—ñ–Ω–Ω–∏–º–∏.

---

## üßæ –ü—Ä–∏–∫–ª–∞–¥–∏

### 1. –ù–µ–∑–º—ñ–Ω–Ω–∞ –∑–º—ñ–Ω–Ω–∞ `val`

```scala
val pi = 3.14159
// pi = 3.14  // –ø–æ–º–∏–ª–∫–∞ –∫–æ–º–ø—ñ–ª—è—Ü—ñ—ó
```

### 2. –ù–µ–∑–º—ñ–Ω–Ω—ñ –∫–æ–ª–µ–∫—Ü—ñ—ó

```scala
val numbers = List(1, 2, 3)
val moreNumbers = numbers :+ 4  // —Å—Ç–≤–æ—Ä—é—î –Ω–æ–≤–∏–π —Å–ø–∏—Å–æ–∫
```

### 3. –ù–µ–∑–º—ñ–Ω–Ω—ñ –æ–±'—î–∫—Ç–∏ –∑ `case class`

```scala
case class Person(name: String, age: Int)

val john = Person("John", 30)
val olderJohn = john.copy(age = 31) // –Ω–æ–≤–∏–π –æ–±'—î–∫—Ç, —Å—Ç–∞—Ä–∏–π –Ω–µ –∑–º—ñ–Ω—é—î—Ç—å—Å—è
```

### 4. –ö–æ–ø—ñ—é–≤–∞–Ω–Ω—è –≤–∫–ª–∞–¥–µ–Ω–∏—Ö –æ–±'—î–∫—Ç—ñ–≤

```scala
case class Address(city: String)
case class Employee(name: String, address: Address)

val emp = Employee("Sara", Address("Kyiv"))
val relocated = emp.copy(address = emp.address.copy(city = "Lviv"))
```

### 5. –§—É–Ω–∫—Ü—ñ—ó –∑ –Ω–µ–∑–º—ñ–Ω–Ω–∏–º–∏ –∫–æ–ª–µ–∫—Ü—ñ—è–º–∏

```scala
def incrementAll(xs: List[Int]): List[Int] = xs.map(_ + 1)
```

---

## ‚úÖ –ü–µ—Ä–µ–≤–∞–≥–∏ –Ω–µ–∑–º—ñ–Ω–Ω–∏—Ö –∑–Ω–∞—á–µ–Ω—å

- üß™ –ü—Ä–æ—Å—Ç—ñ—à–µ —Ç–µ—Å—Ç—É–≤–∞—Ç–∏
- üßµ –ë–µ–∑–ø–µ—á–Ω—ñ—à–µ –ø—Ä–∏ –ø–∞—Ä–∞–ª–µ–ª—ñ–∑–º—ñ
- üîô –ú–æ–∂–Ω–∞ –ª–µ–≥–∫–æ –≤—ñ–¥–Ω–æ–≤–∏—Ç–∏ –ø–æ–ø–µ—Ä–µ–¥–Ω—ñ–π —Å—Ç–∞–Ω
- ‚ôª –õ–µ–≥—à–µ –¥–µ–±–∞–∂–∏—Ç–∏ —Ç–∞ –ª–æ–≥—É–≤–∞—Ç–∏
- üîí –ó–∞—Ö–∏—â–µ–Ω—ñ—Å—Ç—å –≤—ñ–¥ –≤–∏–ø–∞–¥–∫–æ–≤–∏—Ö –∑–º—ñ–Ω

---

## üß† –ü–∏—Ç–∞–Ω–Ω—è –¥–ª—è —Å–ø—ñ–≤–±–µ—Å—ñ–¥–∏

### ‚ùì –©–æ —Ç–∞–∫–µ immutable value?
> –¶–µ –∑–Ω–∞—á–µ–Ω–Ω—è, —è–∫–µ –Ω–µ –º–æ–∂–Ω–∞ –∑–º—ñ–Ω–∏—Ç–∏ –ø—ñ—Å–ª—è –π–æ–≥–æ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è. –£ Scala —Ü–µ `val`.

---

### ‚ùì –ß–æ–º—É —ñ –∫–æ–ª–∏ –≤–∞—Ä—Ç–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ immutable collections?
> –í–æ–Ω–∏ –±–µ–∑–ø–µ—á–Ω—ñ—à—ñ, –ø–µ—Ä–µ–¥–±–∞—á—É–≤–∞–Ω—ñ, –æ—Å–æ–±–ª–∏–≤–æ –ø—Ä–∏ –ø–∞—Ä–∞–ª–µ–ª—å–Ω—ñ–π –æ–±—Ä–æ–±—Ü—ñ —Ç–∞ –≤ —Å–∏—Å—Ç–µ–º–∞—Ö –∑ –ø–æ–±—ñ—á–Ω–∏–º–∏ –µ—Ñ–µ–∫—Ç–∞–º–∏.

---

### ‚ùì –ß–∏–º –≤—ñ–¥—Ä—ñ–∑–Ω—è—é—Ç—å—Å—è `val`, `var`, `lazy val`, `def`?

| –ö–ª—é—á–æ–≤–µ —Å–ª–æ–≤–æ | –•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞                                 |
|---------------|--------------------------------------------------|
| `val`         | –Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑—É—î—Ç—å—Å—è –æ–¥–∏–Ω —Ä–∞–∑, –Ω–µ–∑–º—ñ–Ω–Ω–µ               |
| `var`         | –ú–æ–∂–µ –∑–º—ñ–Ω—é–≤–∞—Ç–∏ –∑–Ω–∞—á–µ–Ω–Ω—è                          |
| `lazy val`    | –Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑—É—î—Ç—å—Å—è –ø—Ä–∏ –ø–µ—Ä—à–æ–º—É –∑–≤–µ—Ä–Ω–µ–Ω–Ω—ñ           |
| `def`         | –ú–µ—Ç–æ–¥, –≤–∏–∫–æ–Ω—É—î—Ç—å—Å—è —â–æ—Ä–∞–∑—É –ø—Ä–∏ –≤–∏–∫–ª–∏–∫—É           |

#### üìò –ì–ª–∏–±–æ–∫–µ –ø–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è: val, def, lazy val, var

| –û—Å–æ–±–ª–∏–≤—ñ—Å—Ç—å            | `val`                             | `lazy val`                          | `def`                                 | `var`                          |
| ---------------------- | --------------------------------- | ----------------------------------- | ------------------------------------- | ------------------------------ |
| **–¢–∏–ø**                | value                             | delayed value                       | –º–µ—Ç–æ–¥ (function)                      | –∑–º—ñ–Ω–Ω–∞                         |
| **–û–±—á–∏—Å–ª–µ–Ω–Ω—è**         | –æ–¥—Ä–∞–∑—É                            | –ø—Ä–∏ –ø–µ—Ä—à–æ–º—É –∑–≤–µ—Ä–Ω–µ–Ω–Ω—ñ               | –ø—Ä–∏ –∫–æ–∂–Ω–æ–º—É –≤–∏–∫–ª–∏–∫—É                   | –æ–¥—Ä–∞–∑—É                         |
| **–ü–æ–≤—Ç–æ—Ä–Ω–µ –≤–∏–∫–æ–Ω–∞–Ω–Ω—è** | ‚ùå (–æ–¥–∏–Ω —Ä–∞–∑)                      | ‚ùå (–æ–¥–∏–Ω —Ä–∞–∑)                        | ‚úÖ (–∫–æ–∂–Ω–æ–≥–æ —Ä–∞–∑—É)                      | ‚ùå (–∞–ª–µ –º–æ–∂–Ω–∞ –∑–º—ñ–Ω–∏—Ç–∏ –∑–Ω–∞—á–µ–Ω–Ω—è) |
| **–ü–µ—Ä–µ–≤–∞–≥–∏**           | —à–≤–∏–¥–∫–æ, –ø—Ä–æ—Å—Ç–æ                    | –∑—Ä—É—á–Ω–æ –¥–ª—è –¥–æ—Ä–æ–≥–∏—Ö –æ–±—á–∏—Å–ª–µ–Ω—å        | –≥–Ω—É—á–∫—ñ—Å—Ç—å, –ø–∞—Ä–∞–º–µ—Ç—Ä–∏                  | –∑–º—ñ–Ω—é–≤–∞–Ω—ñ—Å—Ç—å                   |
| **–ù–µ–¥–æ–ª—ñ–∫–∏**           | –æ–±—á–∏—Å–ª—é—î—Ç—å—Å—è –Ω–∞–≤—ñ—Ç—å —è–∫—â–æ –Ω–µ —Ç—Ä–µ–±–∞ | –º–æ–∂–ª–∏–≤–∞ –≥–æ–Ω–∫–∞ –ø—Ä–∏ –±–∞–≥–∞—Ç–æ–ø–æ—Ç–æ–∫–æ–≤–æ—Å—Ç—ñ | –Ω–µ –∑–±–µ—Ä—ñ–≥–∞—î —Å—Ç–∞–Ω, —Å–∫–ª–∞–¥–Ω—ñ—à–µ —Ç–µ—Å—Ç—É–≤–∞—Ç–∏ | –ø–æ—Ä—É—à—É—î —ñ–¥–µ—é —ñ–º–º—É—Ç–∞–±–µ–ª—å–Ω–æ—Å—Ç—ñ   |

---

### ‚ùì –Ø–∫ –∫–æ–ø—ñ—é–≤–∞—Ç–∏ –≤–∫–ª–∞–¥–µ–Ω—ñ –æ–±'—î–∫—Ç–∏ —É `case class`?
> –ß–µ—Ä–µ–∑ `copy` —ñ –≤–∫–ª–∞–¥–µ–Ω–∏–π `copy`:  
> `user.copy(profile = user.profile.copy(age = 30))`

---

## üß© Scala by default ‚Äî FP first

- `val` —ñ `immutable collections` ‚Äî —Å—Ç–∞–Ω–¥–∞—Ä—Ç
- Mutable ‚Äî –ª–∏—à–µ –ø—Ä–∏ –ø–æ—Ç—Ä–µ–±—ñ (`var`, `mutable.*`)
- –ë—ñ–±–ª—ñ–æ—Ç–µ–∫–∏: Cats, ZIO, Scalaz ‚Äî –ø—Ä–æ—Å—É–≤–∞—é—Ç—å –ª–∏—à–µ immutable-–ø—ñ–¥—Ö–æ–¥–∏

---

## üìå –ü—ñ–¥—Å—É–º–æ–∫

Immutable values ‚Äî —Ü–µ **—Ñ—É–Ω–¥–∞–º–µ–Ω—Ç–∞–ª—å–Ω–∞ —Ü—ñ–Ω–Ω—ñ—Å—Ç—å —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ–≥–æ —Å—Ç–∏–ª—é** –≤ Scala. –í–æ–Ω–∏ –∑–º–µ–Ω—à—É—é—Ç—å –ø–æ–º–∏–ª–∫–∏, —Ä–æ–±–ª—è—Ç—å –∫–æ–¥ –ø–µ—Ä–µ–¥–±–∞—á—É–≤–∞–Ω–∏–º —ñ –ª–µ–≥–∫–æ –º–∞—Å—à—Ç–∞–±–æ–≤–∞–Ω–∏–º.